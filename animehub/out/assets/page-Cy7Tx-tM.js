import{j as e,m as s}from"./animation-jvELU4qo.js";import{r as t}from"./react-vendor-DxNDjNG-.js";import{c as r,d as i}from"./index-CX_4khTt.js";import"./ui-components-C5QItHIj.js";import"./services-By9PCRKQ.js";import"./admin-I3YcsrSP.js";function a(){const[a,l]=t.useState(null),[n,d]=t.useState(!1),[c,o]=t.useState(!1),m=r(),{getPerformanceMetrics:x,getCacheStats:g}=i(),h=async()=>{d(!0);try{const e=x();await g();const s={userAgent:navigator.userAgent,connection:navigator.connection?.effectiveType||"unknown",memory:performance.memory?.usedJSHeapSize||null,cores:navigator.hardwareConcurrency||0};l({webVitals:m,serviceWorker:e,systemInfo:s})}catch(e){}finally{d(!1)}};t.useEffect(()=>{if(h(),c){const e=setInterval(h,5e3);return()=>clearInterval(e)}},[m,c]);const v=e=>{switch(e){case"good":return"text-green-600 bg-green-100";case"needs-improvement":return"text-yellow-600 bg-yellow-100";case"poor":return"text-red-600 bg-red-100"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Performance Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Real-time monitoring of Web Vitals, Service Worker metrics, and system performance"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:e=>o(e.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Auto Refresh (5s)"})]}),e.jsxs("button",{onClick:h,disabled:n,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors flex items-center space-x-2",children:[e.jsx("i",{className:"ri-refresh-line "+(n?"animate-spin":"")}),e.jsx("span",{children:n?"Refreshing...":"Refresh"})]})]})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("i",{className:"ri-speed-line mr-2 text-blue-600"}),"Web Vitals Metrics"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:Object.entries(a?.webVitals||{}).map(([s,t])=>{const r=((e,s)=>{if(null===s)return"good";const t={CLS:{good:.1,poor:.25},FID:{good:100,poor:300},FCP:{good:1800,poor:3e3},LCP:{good:2500,poor:4e3},TTFB:{good:800,poor:1800}}[e];return t?s<=t.good?"good":s<=t.poor?"needs-improvement":"poor":"good"})(s,t);return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:s}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(r)}`,children:r.replace("-"," ")})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:null!==t?`${Math.round(t)}ms`:"..."})]},s)})})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("i",{className:"ri-service-line mr-2 text-green-600"}),"Service Worker Performance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Cache Hit Rate"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[a?.serviceWorker.cacheHitRate.toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Total Requests"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:(a?.serviceWorker.networkRequests||0)+(a?.serviceWorker.cacheRequests||0)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Avg Response Time"}),e.jsxs("div",{className:"text-2xl font-bold text-gray-800",children:[a?.serviceWorker.averageResponseTime.toFixed(0),"ms"]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Errors"}),e.jsx("div",{className:"text-2xl font-bold text-gray-800",children:a?.serviceWorker.errors||0})]})]})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("i",{className:"ri-computer-line mr-2 text-purple-600"}),"System Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Connection Type"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800 capitalize",children:a?.systemInfo.connection||"Unknown"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"CPU Cores"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:a?.systemInfo.cores||"Unknown"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Memory Usage"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:a?.systemInfo.memory?(e=>{if(0===e)return"0 Bytes";const s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]})(a.systemInfo.memory):"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:"Last Updated"}),e.jsx("div",{className:"text-lg font-semibold text-gray-800",children:a?.serviceWorker.lastUpdated?(j=a.serviceWorker.lastUpdated,new Date(j).toLocaleTimeString()):"N/A"})]})]})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("i",{className:"ri-lightbulb-line mr-2 text-yellow-600"}),"Performance Recommendations"]}),e.jsxs("div",{className:"space-y-3",children:[a?.webVitals.LCP&&a.webVitals.LCP>4e3&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Poor LCP Score"}),e.jsxs("div",{className:"text-sm text-red-600",children:["Largest Contentful Paint is ",Math.round(a.webVitals.LCP),"ms. Consider optimizing images and reducing server response time."]})]})]}),a?.webVitals.CLS&&a.webVitals.CLS>.25&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Poor CLS Score"}),e.jsxs("div",{className:"text-sm text-red-600",children:["Cumulative Layout Shift is ",a.webVitals.CLS.toFixed(3),". Fix layout shifts by setting dimensions for images and dynamic content."]})]})]}),a?.serviceWorker.cacheHitRate&&a.serviceWorker.cacheHitRate<50&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-50 rounded-lg",children:[e.jsx("i",{className:"ri-information-line text-yellow-600 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-yellow-800",children:"Low Cache Hit Rate"}),e.jsxs("div",{className:"text-sm text-yellow-600",children:["Cache hit rate is ",a.serviceWorker.cacheHitRate.toFixed(1),"%. Consider implementing more aggressive caching strategies."]})]})]}),a?.serviceWorker.errors&&a.serviceWorker.errors>0&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-red-50 rounded-lg",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-red-800",children:"Service Worker Errors"}),e.jsxs("div",{className:"text-sm text-red-600",children:[a.serviceWorker.errors," errors detected. Check service worker implementation and network requests."]})]})]}),(!a?.webVitals.LCP||a.webVitals.LCP<=2500)&&(!a?.webVitals.CLS||a.webVitals.CLS<=.1)&&(!a?.webVitals.FID||a.webVitals.FID<=100)&&e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg",children:[e.jsx("i",{className:"ri-check-line text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-green-800",children:"Excellent Performance"}),e.jsx("div",{className:"text-sm text-green-600",children:"All Web Vitals are within good thresholds. Keep up the great work!"})]})]})]})]})})]})});var j}export{a as default};
//# sourceMappingURL=page-Cy7Tx-tM.js.map
