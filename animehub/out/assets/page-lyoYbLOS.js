import{j as e,m as s}from"./animation-jvELU4qo.js";import{r as t}from"./react-vendor-DxNDjNG-.js";import{A as a}from"./admin-I3YcsrSP.js";import"./ui-components-C5QItHIj.js";import"./services-By9PCRKQ.js";function l(){const[l,i]=t.useState("7d"),[r,n]=t.useState(!1),[d,c]=t.useState(null),[o,m]=t.useState(null),[x,h]=t.useState({totalUsers:0,totalAnime:0,totalViews:0,activeSessions:0});t.useEffect(()=>{(async()=>{try{n(!0),c(null);const[e,s]=await Promise.all([a.getAnalyticsData(l),a.getAdminStats()]);m(e),h({totalUsers:s.totalUsers,totalAnime:s.totalAnime,totalViews:s.totalEpisodes,activeSessions:s.activeUsers})}catch(e){c(e instanceof Error?e.message:"Failed to fetch analytics data")}finally{n(!1)}})()},[l]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%239C92AC%22%20fill-opacity%3D%220.05%22%3E%3Ccircle%20cx%3D%2230%22%20cy%3D%2230%22%20r%3D%222%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-40"}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8",children:[e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"Comprehensive insights into your platform performance"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-500",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Live Data"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{htmlFor:"timeRange",className:"text-sm font-medium text-slate-700",children:"Time Range:"}),e.jsxs("select",{id:"timeRange",value:l,onChange:e=>i(e.target.value),className:"px-4 py-2 bg-white/80 backdrop-blur-sm border border-slate-300 rounded-xl focus:ring-blue-500 focus:border-blue-500 shadow-sm",disabled:r,children:[e.jsx("option",{value:"7d",children:"Last 7 Days"}),e.jsx("option",{value:"30d",children:"Last 30 Days"}),e.jsx("option",{value:"90d",children:"Last 90 Days"})]})]})]})]}),d&&e.jsx(s.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-xl mb-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("i",{className:"ri-error-warning-line text-lg"}),e.jsx("span",{children:d})]})}),r?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-slate-700 font-medium",children:"Loading analytics data..."}),e.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Fetching insights from database"})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-400 to-blue-600 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-white text-xl"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:x.totalUsers.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600",children:"Total Users"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"+12% from last month"})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-400 to-green-600 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-movie-2-line text-white text-xl"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:x.totalAnime.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600",children:"Total Anime"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"+5 new this week"})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-400 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-eye-line text-white text-xl"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:x.totalViews.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600",children:"Total Views"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"+23% this month"})]})]}),e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20 hover:shadow-xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-400 to-orange-600 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-user-heart-line text-white text-xl"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold text-slate-800",children:x.activeSessions.toLocaleString()}),e.jsx("p",{className:"text-sm text-slate-600",children:"Active Users"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Online now"})]})]})]}),o&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-slate-800",children:["User Growth (",l,")"]}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-400 to-blue-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-line-chart-line text-white text-sm"})})]}),o.userGrowth.length>0?e.jsx("div",{className:"space-y-4",children:o.userGrowth.slice(-7).map((s,t)=>{return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:(a=s.date,new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"}))}),e.jsx("span",{className:"text-sm font-bold text-slate-800",children:s.users})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-3 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s.users/Math.max(...o.userGrowth.map(e=>e.users))*100)}%`}})})]},t);var a})}):e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("i",{className:"ri-line-chart-line text-5xl mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No user growth data available"}),e.jsx("p",{className:"text-sm",children:"Data will appear as users register"})]})]}),e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Top Anime by Views"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-400 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-trophy-line text-white text-sm"})})]}),o.animeViews.length>0?e.jsx("div",{className:"space-y-4",children:o.animeViews.slice(0,5).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50/50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold "+(0===t?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":1===t?"bg-gradient-to-r from-gray-400 to-gray-600 text-white":2===t?"bg-gradient-to-r from-orange-400 to-orange-600 text-white":"bg-slate-200 text-slate-600"),children:t+1}),e.jsx("span",{className:"text-sm font-medium text-slate-700 truncate max-w-32",children:s.anime})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-20 bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s.views/Math.max(...o.animeViews.map(e=>e.views))*100)}%`}})}),e.jsx("span",{className:"text-sm font-bold text-slate-800 w-12 text-right",children:s.views})]})]},t))}):e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("i",{className:"ri-trophy-line text-5xl mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No anime view data available"}),e.jsx("p",{className:"text-sm",children:"Data will appear as users watch episodes"})]})]}),e.jsxs(s.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Popular Genres"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-400 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-bar-chart-line text-white text-sm"})})]}),o.popularGenres.length>0?e.jsx("div",{className:"space-y-4",children:o.popularGenres.slice(0,8).map((s,t)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s.genre}),e.jsx("span",{className:"text-sm font-bold text-slate-800",children:s.count})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s.count/Math.max(...o.popularGenres.map(e=>e.count))*100)}%`}})})]},t))}):e.jsxs("div",{className:"text-center py-12 text-slate-500",children:[e.jsx("i",{className:"ri-bar-chart-line text-5xl mb-4"}),e.jsx("p",{className:"text-lg font-medium",children:"No genre data available"}),e.jsx("p",{className:"text-sm",children:"Data will appear as anime are categorized"})]})]}),e.jsxs(s.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.8},className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Device Usage"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-orange-400 to-orange-600 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-smartphone-line text-white text-sm"})})]}),e.jsx("div",{className:"space-y-6",children:o.deviceStats.map((s,t)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-slate-700",children:s.device}),e.jsxs("span",{className:"text-sm font-bold text-slate-800",children:[s.percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 rounded-full transition-all duration-500 "+(0===t?"bg-gradient-to-r from-blue-500 to-blue-600":1===t?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-orange-500 to-orange-600"),style:{width:`${s.percentage}%`}})})]},t))})]})]})]})]})]})}export{l as default};
//# sourceMappingURL=page-lyoYbLOS.js.map
