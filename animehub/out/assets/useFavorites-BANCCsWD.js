import{r}from"./react-vendor-DxNDjNG-.js";import{u as e,U as t}from"./ui-components-C5QItHIj.js";function a(){const[a,o]=r.useState([]),[i,s]=r.useState(!0),[n,c]=r.useState(null),{user:d}=e(),u=r.useCallback(async()=>{if(!d?.id)return o([]),void s(!1);try{s(!0),c(null);const r=await t.getUserFavorites(d.id);o(r)}catch(r){c(r instanceof Error?r.message:"Failed to fetch favorites")}finally{s(!1)}},[d?.id]);r.useEffect(()=>{u()},[u]);return{favorites:a,loading:i,error:n,addToFavorites:r.useCallback(async r=>{if(!d?.id)throw new Error("User not authenticated");try{await t.addToFavorites(d.id,r),await u()}catch(e){throw new Error(e instanceof Error?e.message:"Failed to add to favorites")}},[d?.id,u]),removeFromFavorites:r.useCallback(async r=>{if(!d?.id)throw new Error("User not authenticated");try{await t.removeFromFavorites(d.id,r),await u()}catch(e){throw new Error(e instanceof Error?e.message:"Failed to remove from favorites")}},[d?.id,u]),isInFavorites:r.useCallback(async r=>{if(!d?.id)return!1;try{return await t.isInFavorites(d.id,r)}catch(e){return!1}},[d?.id]),refetch:u}}export{a as u};
//# sourceMappingURL=useFavorites-BANCCsWD.js.map
