{"version":3,"file":"LiveSearchDropdown-STSOJapl.js","sources":["../../src/components/search/LiveSearchDropdown.tsx"],"sourcesContent":["import React from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Link } from 'react-router-dom';\r\nimport { SparkleLoadingSpinner } from '../base/LoadingSpinner';\r\n\r\ninterface LiveSearchResult {\r\n  id: string;\r\n  title: string;\r\n  poster_url?: string;\r\n  year?: number;\r\n  rating?: number;\r\n  genres?: string[];\r\n  status?: string;\r\n}\r\n\r\ninterface LiveSearchDropdownProps {\r\n  results: LiveSearchResult[];\r\n  loading: boolean;\r\n  error: string | null;\r\n  isVisible: boolean;\r\n  onResultClick: () => void;\r\n}\r\n\r\nexport default function LiveSearchDropdown({ \r\n  results, \r\n  loading, \r\n  error, \r\n  isVisible, \r\n  onResultClick \r\n}: LiveSearchDropdownProps) {\r\n  if (!isVisible) return null;\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      <motion.div\r\n        initial={{ opacity: 0, y: -10, scale: 0.95 }}\r\n        animate={{ opacity: 1, y: 0, scale: 1 }}\r\n        exit={{ opacity: 0, y: -10, scale: 0.95 }}\r\n        transition={{ duration: 0.2 }}\r\n        className=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-green-200 z-50 max-h-96 overflow-y-auto\"\r\n      >\r\n        <div className=\"p-2\">\r\n          {loading ? (\r\n            <div className=\"flex items-center justify-center py-8\">\r\n              <SparkleLoadingSpinner size=\"sm\" text=\"Searching...\" />\r\n            </div>\r\n          ) : error ? (\r\n            <div className=\"text-center py-8\">\r\n              <i className=\"ri-error-warning-line text-2xl text-red-400 mb-2\"></i>\r\n              <p className=\"text-sm text-red-600\">{error}</p>\r\n            </div>\r\n          ) : results.length > 0 ? (\r\n            <div className=\"space-y-1\">\r\n              <div className=\"text-xs text-teal-600 font-semibold mb-2 px-2\">\r\n                <i className=\"ri-search-line mr-1\"></i>\r\n                Anime Results\r\n              </div>\r\n              {results.map((anime) => (\r\n                <Link\r\n                  key={anime.id}\r\n                  to={`/anime/${anime.id}`}\r\n                  onClick={onResultClick}\r\n                  className=\"block p-3 hover:bg-teal-50 rounded-lg transition-colors duration-200 group\"\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    {/* Anime Poster */}\r\n                    <div className=\"flex-shrink-0\">\r\n                      <img\r\n                        src={anime.poster_url || \"https://readdy.ai/api/search-image?query=Anime%20poster%20default&width=60&height=80&seq=live-search&orientation=portrait\"}\r\n                        alt={anime.title}\r\n                        className=\"w-12 h-16 object-cover object-top rounded-lg\"\r\n                      />\r\n                    </div>\r\n                    \r\n                    {/* Anime Info */}\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h3 className=\"font-semibold text-teal-800 truncate group-hover:text-teal-900\">\r\n                        {anime.title}\r\n                      </h3>\r\n                      \r\n                      <div className=\"flex items-center gap-2 mt-1\">\r\n                        {anime.year && (\r\n                          <span className=\"text-xs text-teal-600 bg-teal-100 px-2 py-0.5 rounded-full\">\r\n                            {anime.year}\r\n                          </span>\r\n                        )}\r\n                        {anime.rating && (\r\n                          <span className=\"text-xs text-orange-600 bg-orange-100 px-2 py-0.5 rounded-full flex items-center gap-1\">\r\n                            <i className=\"ri-star-fill text-xs\"></i>\r\n                            {anime.rating}\r\n                          </span>\r\n                        )}\r\n                        {anime.status && (\r\n                          <span className={`text-xs px-2 py-0.5 rounded-full ${\r\n                            anime.status === 'completed' ? 'bg-green-100 text-green-600' :\r\n                            anime.status === 'ongoing' ? 'bg-blue-100 text-blue-600' :\r\n                            'bg-yellow-100 text-yellow-600'\r\n                          }`}>\r\n                            {anime.status}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      {anime.genres && anime.genres.length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                          {anime.genres.slice(0, 2).map((genre, index) => (\r\n                            <span key={index} className=\"text-xs text-gray-500 bg-gray-100 px-1.5 py-0.5 rounded\">\r\n                              {genre}\r\n                            </span>\r\n                          ))}\r\n                          {anime.genres.length > 2 && (\r\n                            <span className=\"text-xs text-gray-400\">+{anime.genres.length - 2}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    \r\n                    {/* Arrow Icon */}\r\n                    <div className=\"flex-shrink-0\">\r\n                      <i className=\"ri-arrow-right-s-line text-teal-400 group-hover:text-teal-600 transition-colors duration-200\"></i>\r\n                    </div>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8\">\r\n              <i className=\"ri-search-line text-2xl text-teal-300 mb-2\"></i>\r\n              <p className=\"text-sm text-teal-600\">No anime found</p>\r\n              <p className=\"text-xs text-teal-500 mt-1\">Try a different search term</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </motion.div>\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":["LiveSearchDropdown","results","loading","error","isVisible","onResultClick","AnimatePresence","children","jsx","motion","div","initial","opacity","y","scale","animate","exit","transition","duration","className","SparkleLoadingSpinner","size","text","jsxs","length","map","anime","Link","to","id","onClick","src","poster_url","alt","title","year","rating","status","genres","slice","genre","index"],"mappings":"wLAuBA,SAAwBA,GAAmBC,QACzCA,EAAAC,QACAA,EAAAC,MACAA,EAAAC,UACAA,EAAAC,cACAA,IAEA,OAAKD,QAGFE,EAAA,CACCC,SAAAC,EAAAA,IAACC,EAAOC,IAAP,CACCC,QAAS,CAAEC,QAAS,EAAGC,GAAG,GAAKC,MAAO,KACtCC,QAAS,CAAEH,QAAS,EAAGC,EAAG,EAAGC,MAAO,GACpCE,KAAM,CAAEJ,QAAS,EAAGC,GAAG,GAAKC,MAAO,KACnCG,WAAY,CAAEC,SAAU,IACxBC,UAAU,4HAEVZ,SAAAC,EAAAA,IAAC,OAAIW,UAAU,MACZZ,WACCC,EAAAA,IAAC,MAAA,CAAIW,UAAU,wCACbZ,SAAAC,EAAAA,IAACY,GAAsBC,KAAK,KAAKC,KAAK,mBAEtCnB,EACFoB,EAAAA,KAAC,MAAA,CAAIJ,UAAU,mBACbZ,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEW,UAAU,qDACbX,EAAAA,IAAC,IAAA,CAAEW,UAAU,uBAAwBZ,SAAAJ,OAErCF,EAAQuB,OAAS,EACnBD,OAAC,MAAA,CAAIJ,UAAU,YACbZ,SAAA,CAAAgB,EAAAA,KAAC,MAAA,CAAIJ,UAAU,gDACbZ,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEW,UAAU,wBAA0B,mBAGxClB,EAAQwB,IAAKC,GACZlB,EAAAA,IAACmB,EAAA,CAECC,GAAI,UAAUF,EAAMG,KACpBC,QAASzB,EACTc,UAAU,6EAEVZ,SAAAgB,EAAAA,KAAC,MAAA,CAAIJ,UAAU,0BAEbZ,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAIW,UAAU,gBACbZ,SAAAC,EAAAA,IAAC,MAAA,CACCuB,IAAKL,EAAMM,YAAc,4HACzBC,IAAKP,EAAMQ,MACXf,UAAU,mDAKdI,EAAAA,KAAC,MAAA,CAAIJ,UAAU,iBACbZ,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAGW,UAAU,iEACXZ,SAAAmB,EAAMQ,QAGTX,EAAAA,KAAC,MAAA,CAAIJ,UAAU,+BACZZ,SAAA,CAAAmB,EAAMS,MACL3B,EAAAA,IAAC,OAAA,CAAKW,UAAU,6DACbZ,WAAM4B,OAGVT,EAAMU,QACLb,OAAC,OAAA,CAAKJ,UAAU,yFACdZ,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEW,UAAU,yBACZO,EAAMU,UAGVV,EAAMW,QACL7B,EAAAA,IAAC,OAAA,CAAKW,UAAW,qCACE,cAAjBO,EAAMW,OAAyB,8BACd,YAAjBX,EAAMW,OAAuB,4BAC7B,iCAEC9B,WAAM8B,YAKZX,EAAMY,QAAUZ,EAAMY,OAAOd,OAAS,GACrCD,EAAAA,KAAC,MAAA,CAAIJ,UAAU,4BACZZ,SAAA,CAAAmB,EAAMY,OAAOC,MAAM,EAAG,GAAGd,IAAI,CAACe,EAAOC,UACnC,OAAA,CAAiBtB,UAAU,0DACzBZ,SAAAiC,GADQC,IAIZf,EAAMY,OAAOd,OAAS,GACrBD,EAAAA,KAAC,OAAA,CAAKJ,UAAU,wBAAwBZ,SAAA,CAAA,IAAEmB,EAAMY,OAAOd,OAAS,WAOxEhB,EAAAA,IAAC,OAAIW,UAAU,gBACbZ,eAAC,IAAA,CAAEY,UAAU,uGA5DZO,EAAMG,QAmEjBN,EAAAA,KAAC,MAAA,CAAIJ,UAAU,mBACbZ,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAEW,UAAU,+CACbX,EAAAA,IAAC,IAAA,CAAEW,UAAU,wBAAwBZ,SAAA,mBACrCC,EAAAA,IAAC,IAAA,CAAEW,UAAU,6BAA6BZ,SAAA,yCAnG/B,IA0GzB"}