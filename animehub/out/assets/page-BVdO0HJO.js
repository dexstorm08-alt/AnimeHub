import{j as e,m as s,A as t}from"./animation-jvELU4qo.js";import{r}from"./react-vendor-DxNDjNG-.js";import{A as a}from"./admin-I3YcsrSP.js";import{S as l}from"./ui-components-C5QItHIj.js";import{C as i}from"./ConfirmationDialog-YEhSZHza.js";import"./services-By9PCRKQ.js";function d(){const[d,n]=r.useState([]),[o,c]=r.useState(!0),[x,h]=r.useState(null),[m,b]=r.useState(null),[g,p]=r.useState(null),[u,w]=r.useState("all"),[j,y]=r.useState(!1),[v,N]=r.useState(null),[f,k]=r.useState(!1),[C,S]=r.useState(null),R=async()=>{try{c(!0),h(null);const e=await a.getContentReports(1,50);n(e.reports)}catch(e){h(e instanceof Error?e.message:"Failed to fetch reports")}finally{c(!1)}};r.useEffect(()=>{R()},[]);const _=async(e,s)=>{try{p(e),await a.updateReportStatus(e,s),await R(),b(`Report status updated to ${s}!`),setTimeout(()=>b(null),3e3)}catch(t){h(t instanceof Error?t.message:"Failed to update report status")}finally{p(null)}},D=()=>{y(!1),N(null)},L=d.filter(e=>"all"===u||e.status===u),T=e=>{switch(e){case"pending":return"â³";case"investigating":return"ðŸ”";case"resolved":return"âœ…";case"dismissed":return"âŒ";default:return"ðŸ“‹"}},U=e=>{switch(e){case"high":return"ðŸ”´";case"medium":return"ðŸŸ¡";case"low":return"ðŸŸ¢";default:return"âšª"}},A=e=>{switch(e){case"inappropriate_content":return"ðŸš«";case"copyright":return"Â©ï¸";case"spam":return"ðŸ—‘ï¸";case"other":return"ðŸ“";default:return"ðŸ“„"}};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Content Reports"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Manage and review user-submitted content reports"})]}),x&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),m&&e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:m}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/30 hover:bg-white/80 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-yellow-600 text-lg",children:"â³"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"pending"===e.status).length})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/30 hover:bg-white/80 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-blue-600 text-lg",children:"ðŸ”"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Investigating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"investigating"===e.status).length})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/30 hover:bg-white/80 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-green-600 text-lg",children:"âœ…"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Resolved"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.filter(e=>"resolved"===e.status).length})]})]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/30 hover:bg-white/80 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-lg",children:"ðŸ“Š"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.length})]})]})})]}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-xl shadow-lg p-6 border border-white/30 mb-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("button",{onClick:()=>w("all"),className:"px-4 py-2 rounded-lg font-medium backdrop-blur-sm border transition-all duration-300 "+("all"===u?"bg-blue-600/90 text-white border-blue-500/20 shadow-lg":"bg-white/60 text-gray-700 border-white/30 hover:bg-white/80 hover:shadow-lg"),children:"All Reports"}),e.jsx("button",{onClick:()=>w("pending"),className:"px-4 py-2 rounded-lg font-medium backdrop-blur-sm border transition-all duration-300 "+("pending"===u?"bg-yellow-600/90 text-white border-yellow-500/20 shadow-lg":"bg-white/60 text-gray-700 border-white/30 hover:bg-white/80 hover:shadow-lg"),children:"Pending"}),e.jsx("button",{onClick:()=>w("investigating"),className:"px-4 py-2 rounded-lg font-medium backdrop-blur-sm border transition-all duration-300 "+("investigating"===u?"bg-blue-600/90 text-white border-blue-500/20 shadow-lg":"bg-white/60 text-gray-700 border-white/30 hover:bg-white/80 hover:shadow-lg"),children:"Investigating"}),e.jsx("button",{onClick:()=>w("resolved"),className:"px-4 py-2 rounded-lg font-medium backdrop-blur-sm border transition-all duration-300 "+("resolved"===u?"bg-green-600/90 text-white border-green-500/20 shadow-lg":"bg-white/60 text-gray-700 border-white/30 hover:bg-white/80 hover:shadow-lg"),children:"Resolved"})]})}),o?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(l,{size:"lg",text:"Loading content reports..."})}):e.jsxs("div",{className:"space-y-4",children:[L.map(t=>e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/70 backdrop-blur-sm border border-white/30 rounded-xl shadow-lg p-6 hover:bg-white/80 hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("span",{className:"text-2xl",children:A(t.report_type||"other")}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 capitalize",children:t.report_type?.replace("_"," ")||"Unknown Type"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",t.id.slice(0,8),"..."]})]})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:T(t.status)}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm border "+("pending"===t.status?"bg-yellow-200/90 text-yellow-900 border-yellow-300/60":"investigating"===t.status?"bg-blue-200/90 text-blue-900 border-blue-300/60":"resolved"===t.status?"bg-green-200/90 text-green-900 border-green-300/60":"bg-gray-200/90 text-gray-900 border-gray-300/60"),children:t.status})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:U(t.priority)}),e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm border "+("high"===t.priority?"bg-red-200/90 text-red-900 border-red-300/60":"medium"===t.priority?"bg-orange-200/90 text-orange-900 border-orange-300/60":"bg-gray-200/90 text-gray-900 border-gray-300/60"),children:t.priority})]}),e.jsxs("span",{className:"text-gray-500",children:["Reported by: ",t.reported_by]}),e.jsx("span",{className:"text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2 ml-6",children:["pending"===t.status&&e.jsx("button",{onClick:()=>_(t.id,"investigating"),disabled:g===t.id,className:"px-4 py-2 bg-blue-600/90 backdrop-blur-sm text-white rounded-lg hover:bg-blue-700/90 disabled:opacity-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-blue-500/20",children:g===t.id?"Updating...":"Start Investigation"}),"investigating"===t.status&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>_(t.id,"resolved"),disabled:g===t.id,className:"px-4 py-2 bg-green-600/90 backdrop-blur-sm text-white rounded-lg hover:bg-green-700/90 disabled:opacity-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-green-500/20",children:g===t.id?"Updating...":"Resolve"}),e.jsx("button",{onClick:()=>_(t.id,"dismissed"),disabled:g===t.id,className:"px-4 py-2 bg-gray-600/90 backdrop-blur-sm text-white rounded-lg hover:bg-gray-700/90 disabled:opacity-50 transition-all duration-300 shadow-lg hover:shadow-xl border border-gray-500/20",children:g===t.id?"Updating...":"Dismiss"})]}),e.jsx("button",{onClick:()=>(e=>{N(e),y(!0)})(t),className:"px-4 py-2 bg-white/60 backdrop-blur-sm border border-white/30 text-gray-700 rounded-lg hover:bg-white/80 hover:shadow-lg transition-all duration-300",children:"View Details"})]})]})},t.id)),0===L.length&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ðŸ“‹"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No reports found"}),e.jsx("p",{className:"text-gray-500",children:"all"===u?"There are no content reports to display.":`No reports with status "${u}" found.`})]})]}),e.jsx(t,{children:j&&v&&e.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-pink-900/20 backdrop-blur-md flex items-center justify-center z-50 p-4",children:e.jsxs(s.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold text-white drop-shadow-lg",children:"Report Details"}),e.jsx("button",{onClick:D,className:"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-6 mb-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-24 w-24 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 flex items-center justify-center shadow-xl",children:e.jsx("span",{className:"text-4xl",children:A(v.report_type||"other")})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx("h3",{className:"text-3xl font-bold text-white drop-shadow-lg",children:v.title}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm border "+("pending"===v.status?"bg-yellow-500/30 text-yellow-200 border-yellow-500/50":"investigating"===v.status?"bg-blue-500/30 text-blue-200 border-blue-500/50":"resolved"===v.status?"bg-green-500/30 text-green-200 border-green-500/50":"bg-gray-500/30 text-gray-200 border-gray-500/50"),children:[T(v.status)," ",v.status]})]}),e.jsx("p",{className:"text-white/95 text-lg mb-4 drop-shadow-sm",children:v.description||"No description available"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ†”"}),e.jsx("span",{className:"text-white font-mono text-xs",children:v.id})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ“‹"}),e.jsx("span",{className:"text-white capitalize",children:v.report_type?.replace("_"," ")||"Unknown"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"âš ï¸"}),e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("high"===v.priority?"bg-red-500/30 text-red-300":"medium"===v.priority?"bg-orange-500/30 text-orange-300":"bg-gray-500/30 text-gray-300"),children:[U(v.priority)," ",v.priority]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ‘¤"}),e.jsx("span",{className:"text-white",children:v.reported_by})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ“…"}),e.jsx("span",{className:"text-white",children:new Date(v.created_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ”„"}),e.jsx("span",{className:"text-white",children:new Date(v.updated_at).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸŽ¯"}),e.jsx("span",{className:"text-white capitalize",children:v.content_type})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-white/15 backdrop-blur-sm rounded-lg p-3 border border-white/20",children:[e.jsx("span",{className:"text-white/90",children:"ðŸ”—"}),e.jsx("span",{className:"text-white font-mono text-xs",children:v.content_id})]})]})]})]}),e.jsxs("div",{className:"border-t border-white/10 pt-6 mt-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-white drop-shadow-lg mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-white",children:"Change Status"}),e.jsxs("select",{value:v.status,onChange:e=>(async(e,s)=>{d.find(s=>s.id===e)&&(S({title:"Update Report Status",message:`Are you sure you want to change the status of this report to "${s}"?`,confirmText:"Update Status",type:"warning",onConfirm:async()=>{try{p(e),await a.updateReportStatus(e,s),await R(),b(`Report status updated to ${s}!`),setTimeout(()=>b(null),3e3)}catch(t){h(t instanceof Error?t.message:"Failed to update report status")}finally{p(null),k(!1),S(null)}}}),k(!0))})(v.id,e.target.value),disabled:g===v.id,className:"w-full px-3 py-2 bg-white/15 backdrop-blur-sm border border-white/30 rounded-lg text-white placeholder-white/70 focus:ring-2 focus:ring-white/40 focus:border-white/40 disabled:opacity-50",children:[e.jsx("option",{value:"pending",className:"bg-gray-800 text-white",children:"Pending"}),e.jsx("option",{value:"investigating",className:"bg-gray-800 text-white",children:"Investigating"}),e.jsx("option",{value:"resolved",className:"bg-gray-800 text-white",children:"Resolved"}),e.jsx("option",{value:"dismissed",className:"bg-gray-800 text-white",children:"Dismissed"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-white",children:"Actions"}),e.jsx("div",{className:"flex space-x-2",children:e.jsx("button",{onClick:D,className:"px-4 py-2 bg-white/15 backdrop-blur-sm text-white rounded-lg hover:bg-white/25 transition-all duration-200 border border-white/30 hover:border-white/40 font-medium",children:"Close"})})]})]})]})]})]})})}),e.jsx(i,{isOpen:f,onClose:()=>k(!1),onConfirm:C?.onConfirm||(()=>{}),title:C?.title||"",message:C?.message||"",confirmText:C?.confirmText||"Confirm",type:C?.type||"warning",isLoading:null!==g})]})})}export{d as default};
//# sourceMappingURL=page-BVdO0HJO.js.map
