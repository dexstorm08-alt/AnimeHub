import{r as e}from"./react-vendor-DxNDjNG-.js";import{A as t}from"./services-By9PCRKQ.js";function a(a={}){const[n,s]=e.useState([]),[r,i]=e.useState(!0),[u,l]=e.useState(null),[c,o]=e.useState(0),[f,g]=e.useState(0),m=e.useMemo(()=>({page:a.page||1,limit:a.limit||20,genre:a.genre,year:a.year,status:a.status,search:a.search}),[a.page,a.limit,a.genre,a.year,a.status,a.search]),y=e.useCallback(async()=>{try{i(!0),l(null);const e=await t.getAnimeList(m.page,m.limit,{genre:m.genre,year:m.year,status:m.status,search:m.search});s(e.data),o(e.totalPages),g(e.total)}catch(e){l(e instanceof Error?e.message:"Failed to fetch anime")}finally{i(!1)}},[m]);return e.useEffect(()=>{y()},[y]),{anime:n,loading:r,error:u,totalPages:c,total:f}}function n(){const[a,n]=e.useState([]),[s,r]=e.useState(!0),[i,u]=e.useState(null);return e.useEffect(()=>{(async()=>{try{r(!0),u(null);const e=await t.getFeaturedAnime(5);n(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch featured anime")}finally{r(!1)}})()},[]),{anime:a,loading:s,error:i}}function s(){const[a,n]=e.useState([]),[s,r]=e.useState(!0),[i,u]=e.useState(null);return e.useEffect(()=>{(async()=>{try{r(!0),u(null);const e=await t.getTrendingAnime(10);n(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch trending anime")}finally{r(!1)}})()},[]),{anime:a,loading:s,error:i}}function r(){const[a,n]=e.useState([]),[s,r]=e.useState(!0),[i,u]=e.useState(null);return e.useEffect(()=>{(async()=>{try{r(!0),u(null);const e=await t.getPopularAnime(12);n(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch popular anime")}finally{r(!1)}})()},[]),{anime:a,loading:s,error:i}}function i(a,n){const[s,r]=e.useState(null),[i,u]=e.useState(!0),[l,c]=e.useState(null);return e.useEffect(()=>{if(!a)return;(async()=>{try{u(!0),c(null);const e=await t.getAnimeById(a,n);r(e)}catch(e){c(e instanceof Error?e.message:"Failed to fetch anime")}finally{u(!1)}})()},[a,n]),{anime:s,loading:i,error:l}}function u(){const[a,n]=e.useState([]),[s,r]=e.useState(!0),[i,u]=e.useState(null);return e.useEffect(()=>{(async()=>{try{r(!0),u(null);const e=await t.getGenres();n(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch genres")}finally{r(!1)}})()},[]),{genres:a,loading:s,error:i}}function l(a,n,s=6){const[r,i]=e.useState([]),[u,l]=e.useState(!0),[c,o]=e.useState(null),f=e.useMemo(()=>n,[n.join(",")]);return e.useEffect(()=>{if(!a||!f||0===f.length)return i([]),void l(!1);(async()=>{try{l(!0),o(null);const e=await t.getSimilarAnime(a,f,s);i(e)}catch(e){o(e instanceof Error?e.message:"Failed to fetch similar anime")}finally{l(!1)}})()},[a,f,s]),{anime:r,loading:u,error:c}}export{s as a,r as b,a as c,u as d,i as e,l as f,n as u};
//# sourceMappingURL=useAnime-mVfErxXT.js.map
