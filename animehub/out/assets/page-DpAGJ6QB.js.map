{"version":3,"file":"page-DpAGJ6QB.js","sources":["../../src/pages/admin/users/page.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { AdminService, type UserManagement } from '../../../services/adminService';\n\nexport default function AdminUsersPage() {\n  const [users, setUsers] = useState<UserManagement[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalUsers, setTotalUsers] = useState(0);\n  const [filterRole, setFilterRole] = useState<string>('all');\n  const [filterSubscription, setFilterSubscription] = useState<string>('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [updatingUser, setUpdatingUser] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [selectedUser, setSelectedUser] = useState<UserManagement | null>(null);\n  const [showProfileModal, setShowProfileModal] = useState(false);\n\n  const fetchUsers = async (page: number = 1) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const result = await AdminService.getAllUsers(page, 20);\n      setUsers(result.users);\n      setTotalUsers(result.total);\n      setCurrentPage(page);\n    } catch (err) {\n      console.error('Failed to fetch users:', err);\n      setError(err instanceof Error ? err.message : 'Failed to fetch users');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const handleRoleChange = async (userId: string, newRole: 'user' | 'moderator' | 'admin') => {\n    try {\n      setUpdatingUser(userId);\n      setError(null);\n      setSuccessMessage(null);\n      \n      await AdminService.updateUserRole(userId, newRole);\n      await fetchUsers(currentPage);\n      \n      setSuccessMessage(`User role updated to ${newRole} successfully!`);\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err) {\n      console.error('Failed to update user role:', err);\n      setError(err instanceof Error ? err.message : 'Failed to update user role');\n    } finally {\n      setUpdatingUser(null);\n    }\n  };\n\n  const handleSubscriptionChange = async (userId: string, newSubscription: 'free' | 'premium' | 'vip') => {\n    try {\n      setUpdatingUser(userId);\n      setError(null);\n      setSuccessMessage(null);\n      \n      await AdminService.updateUserSubscription(userId, newSubscription);\n      await fetchUsers(currentPage);\n      \n      setSuccessMessage(`User subscription updated to ${newSubscription} successfully!`);\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err) {\n      console.error('Failed to update subscription:', err);\n      setError(err instanceof Error ? err.message : 'Failed to update subscription');\n    } finally {\n      setUpdatingUser(null);\n    }\n  };\n\n  const handleDeleteUser = async (userId: string, username: string) => {\n    if (window.confirm(`Are you sure you want to delete user \"${username}\"? This action cannot be undone.`)) {\n      try {\n        setUpdatingUser(userId);\n        setError(null);\n        setSuccessMessage(null);\n        \n        await AdminService.deleteUser(userId);\n        await fetchUsers(currentPage);\n        \n        setSuccessMessage(`User \"${username}\" deleted successfully!`);\n        setTimeout(() => setSuccessMessage(null), 3000);\n      } catch (err) {\n        console.error('Failed to delete user:', err);\n        setError(err instanceof Error ? err.message : 'Failed to delete user');\n      } finally {\n        setUpdatingUser(null);\n      }\n    }\n  };\n\n  const handleViewProfile = (user: UserManagement) => {\n    setSelectedUser(user);\n    setShowProfileModal(true);\n  };\n\n  const closeProfileModal = () => {\n    setShowProfileModal(false);\n    setSelectedUser(null);\n  };\n\n  const filteredUsers = users.filter(user => {\n    const matchesRole = filterRole === 'all' || user.role === filterRole;\n    const matchesSubscription = filterSubscription === 'all' || user.subscription_type === filterSubscription;\n    const matchesSearch = searchTerm === '' || \n      user.username.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    return matchesRole && matchesSubscription && matchesSearch;\n  });\n\n  const getRoleColor = (role: string) => {\n    switch (role) {\n      case 'admin': return 'bg-purple-100 text-purple-800';\n      case 'moderator': return 'bg-blue-100 text-blue-800';\n      case 'user': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getSubscriptionColor = (subscription: string) => {\n    switch (subscription) {\n      case 'vip': return 'bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800';\n      case 'premium': return 'bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800';\n      case 'free': return 'bg-gray-100 text-gray-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getRoleIcon = (role: string) => {\n    switch (role) {\n      case 'admin': return 'üëë';\n      case 'moderator': return 'üõ°Ô∏è';\n      case 'user': return 'üë§';\n      default: return 'üë§';\n    }\n  };\n\n  const getSubscriptionIcon = (type: string) => {\n    switch (type) {\n      case 'vip': return 'üíé';\n      case 'premium': return '‚≠ê';\n      case 'free': return 'üÜì';\n      default: return 'üÜì';\n    }\n  };\n\n    return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">User Management</h1>\n          <p className=\"mt-2 text-gray-600\">Manage user accounts, roles, and subscriptions</p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-blue-600 text-lg\">üë•</span>\n                </div>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-500\">Total Users</p>\n                <p className=\"text-2xl font-bold text-gray-900\">{totalUsers}</p>\n              </div>\n        </div>\n      </div>\n\n          <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-purple-600 text-lg\">üëë</span>\n                </div>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-500\">Admins</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {users.filter(u => u.role === 'admin').length}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n              <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-yellow-600 text-lg\">‚≠ê</span>\n                </div>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-500\">Premium Users</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {users.filter(u => u.subscription_type !== 'free').length}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-green-600 text-lg\">üìà</span>\n                </div>\n              </div>\n              <div className=\"ml-4\">\n                <p className=\"text-sm font-medium text-gray-500\">Active Users</p>\n                <p className=\"text-2xl font-bold text-gray-900\">\n                  {users.filter(u => u.total_watch_time && u.total_watch_time > 0).length}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Filters and Search */}\n        <div className=\"bg-white rounded-xl shadow-sm p-6 border border-gray-200 mb-6\">\n          {error && (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">\n              {error}\n            </div>\n          )}\n          \n          {successMessage && (\n            <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4\">\n              {successMessage}\n            </div>\n          )}\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n            {/* Search */}\n            <div className=\"md:col-span-2\">\n              <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Search Users\n              </label>\n              <input\n                type=\"text\"\n                id=\"search\"\n                placeholder=\"Search by username or email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n\n            {/* Role Filter */}\n            <div>\n              <label htmlFor=\"roleFilter\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Filter by Role\n              </label>\n              <select\n                id=\"roleFilter\"\n                value={filterRole}\n                onChange={(e) => setFilterRole(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"all\">All Roles</option>\n                <option value=\"admin\">Admin</option>\n                <option value=\"moderator\">Moderator</option>\n                <option value=\"user\">User</option>\n              </select>\n            </div>\n\n            {/* Subscription Filter */}\n            <div>\n              <label htmlFor=\"subscriptionFilter\" className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Filter by Subscription\n              </label>\n              <select\n                id=\"subscriptionFilter\"\n                value={filterSubscription}\n                onChange={(e) => setFilterSubscription(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"all\">All Subscriptions</option>\n                <option value=\"vip\">VIP</option>\n                <option value=\"premium\">Premium</option>\n                <option value=\"free\">Free</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        {/* Users List */}\n        {loading ? (\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\"></div>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {filteredUsers.map((user) => (\n              <motion.div\n                      key={user.id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow\"\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-4\">\n                    {/* Avatar */}\n                    <div className=\"flex-shrink-0\">\n                            {user.avatar_url ? (\n                              <img\n                          className=\"h-16 w-16 rounded-full object-cover border-2 border-gray-200\"\n                                src={user.avatar_url}\n                                alt={user.username}\n                              />\n                            ) : (\n                        <div className=\"h-16 w-16 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center border-2 border-gray-200\">\n                          <span className=\"text-white text-2xl font-bold\">\n                            {user.username.charAt(0).toUpperCase()}\n                          </span>\n                              </div>\n                            )}\n                          </div>\n\n                    {/* User Info */}\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-3 mb-2\">\n                        <h3 className=\"text-xl font-semibold text-gray-900\">{user.username}</h3>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${getRoleColor(user.role)}`}>\n                          {getRoleIcon(user.role)} {user.role}\n                        </span>\n                        <span className={`px-3 py-1 rounded-full text-sm font-medium ${getSubscriptionColor(user.subscription_type)}`}>\n                          {getSubscriptionIcon(user.subscription_type)} {user.subscription_type}\n                        </span>\n                      </div>\n                      \n                      <p className=\"text-gray-600 mb-3\">{user.email}</p>\n                      \n                      <div className=\"flex items-center space-x-6 text-sm text-gray-500\">\n                        <div className=\"flex items-center space-x-1\">\n                          <span>üìÖ</span>\n                          <span>Joined {new Date(user.created_at).toLocaleDateString()}</span>\n                            </div>\n                        \n                        <div className=\"flex items-center space-x-1\">\n                          <span>‚è±Ô∏è</span>\n                          <span>\n                            {user.total_watch_time && user.total_watch_time > 0 \n                              ? `${Math.round(user.total_watch_time / 3600)}h watched`\n                              : 'No watch time'\n                            }\n                          </span>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-1\">\n                          <span>üé¨</span>\n                          <span>\n                            {user.anime_watched && user.anime_watched > 0 \n                              ? `${user.anime_watched} anime`\n                              : 'No anime watched'\n                            }\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"flex flex-col space-y-3\">\n                    {/* Role Change */}\n                    <div className=\"flex items-center space-x-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Role:</label>\n                      {user.role === 'admin' ? (\n                        <div className=\"flex items-center space-x-2\">\n                          <span className=\"px-3 py-1 bg-purple-100 text-purple-800 rounded-md text-sm font-medium\">\n                            üëë Admin (Protected)\n                          </span>\n                          <span className=\"text-xs text-gray-500\">Cannot be changed</span>\n                        </div>\n                      ) : (\n                        <div className=\"flex items-center space-x-2\">\n                        <select\n                          value={user.role}\n                          onChange={(e) => handleRoleChange(user.id, e.target.value as any)}\n                            disabled={updatingUser === user.id}\n                            className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50\"\n                        >\n                          <option value=\"user\">User</option>\n                          <option value=\"moderator\">Moderator</option>\n                            <option value=\"admin\" disabled>Admin (Database Only)</option>\n                        </select>\n                          {updatingUser === user.id && (\n                            <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                          )}\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Subscription Change */}\n                    <div className=\"flex items-center space-x-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Plan:</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <select\n                          value={user.subscription_type}\n                          onChange={(e) => handleSubscriptionChange(user.id, e.target.value as any)}\n                          disabled={updatingUser === user.id}\n                          className=\"px-3 py-1 border border-gray-300 rounded-md text-sm focus:ring-blue-500 focus:border-blue-500 disabled:opacity-50\"\n                        >\n                          <option value=\"free\">Free</option>\n                          <option value=\"premium\">Premium</option>\n                          <option value=\"vip\">VIP</option>\n                        </select>\n                        {updatingUser === user.id && (\n                          <div className=\"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"></div>\n                        )}\n                      </div>\n                        </div>\n\n                    {/* Action Buttons */}\n                    <div className=\"flex space-x-2\">\n                      <button \n                        onClick={() => handleViewProfile(user)}\n                        className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\n                      >\n                        View Profile\n                      </button>\n                      {user.role === 'admin' ? (\n                        <button\n                          disabled\n                          className=\"px-4 py-2 bg-gray-400 text-white rounded-lg cursor-not-allowed text-sm opacity-50\"\n                          title=\"Admin users cannot be deleted\"\n                        >\n                          Delete (Protected)\n                        </button>\n                      ) : (\n                        <button\n                          onClick={() => handleDeleteUser(user.id, user.username)}\n                          disabled={updatingUser === user.id}\n                          className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 transition-colors text-sm\"\n                        >\n                          {updatingUser === user.id ? 'Deleting...' : 'Delete'}\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n            \n            {filteredUsers.length === 0 && (\n              <div className=\"text-center py-12\">\n                <div className=\"text-gray-400 text-6xl mb-4\">üë•</div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No users found</h3>\n                <p className=\"text-gray-500\">\n                  {searchTerm || filterRole !== 'all' || filterSubscription !== 'all'\n                    ? 'No users match your current filters.'\n                    : 'There are no users to display.'\n                  }\n                </p>\n              </div>\n            )}\n            </div>\n        )}\n\n            {/* Pagination */}\n        {totalUsers > 20 && (\n          <div className=\"mt-8 flex justify-center\">\n            <div className=\"flex space-x-2\">\n              <button\n                onClick={() => fetchUsers(currentPage - 1)}\n                disabled={currentPage === 1}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Previous\n              </button>\n              \n              <span className=\"px-4 py-2 text-gray-700\">\n                Page {currentPage} of {Math.ceil(totalUsers / 20)}\n                </span>\n              \n              <button\n                onClick={() => fetchUsers(currentPage + 1)}\n                disabled={currentPage >= Math.ceil(totalUsers / 20)}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  Next\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Profile Modal */}\n      {showProfileModal && selectedUser && (\n        <div className=\"fixed inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-pink-900/20 backdrop-blur-md flex items-center justify-center z-50 p-4\">\n          <motion.div\n            initial={{ opacity: 0, scale: 0.95, y: 20 }}\n            animate={{ opacity: 1, scale: 1, y: 0 }}\n            exit={{ opacity: 0, scale: 0.95, y: 20 }}\n            className=\"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\"\n          >\n            {/* Modal Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-white/10\">\n              <h2 className=\"text-2xl font-bold text-white drop-shadow-lg\">User Profile</h2>\n              <button\n                onClick={closeProfileModal}\n                className=\"text-white/70 hover:text-white transition-colors p-2 rounded-full hover:bg-white/10\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n\n            {/* Modal Content */}\n            <div className=\"p-6\">\n              <div className=\"flex items-start space-x-6 mb-6\">\n                {/* Avatar */}\n                <div className=\"flex-shrink-0\">\n                  {selectedUser.avatar_url ? (\n                    <div className=\"relative\">\n                      <img\n                        className=\"h-24 w-24 rounded-full object-cover border-4 border-white/30 shadow-xl\"\n                        src={selectedUser.avatar_url}\n                        alt={selectedUser.username}\n                      />\n                      <div className=\"absolute inset-0 rounded-full bg-gradient-to-br from-white/20 to-transparent\"></div>\n                    </div>\n                  ) : (\n                    <div className=\"h-24 w-24 rounded-full bg-gradient-to-br from-blue-400/80 to-purple-500/80 backdrop-blur-sm flex items-center justify-center border-4 border-white/30 shadow-xl\">\n                      <span className=\"text-white text-3xl font-bold drop-shadow-lg\">\n                        {selectedUser.username.charAt(0).toUpperCase()}\n                      </span>\n                    </div>\n                  )}\n                </div>\n\n                {/* User Info */}\n                <div className=\"flex-1\">\n                  <div className=\"flex items-center space-x-3 mb-3\">\n                    <h3 className=\"text-2xl font-bold text-white drop-shadow-lg\">{selectedUser.username}</h3>\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm border border-white/20 ${getRoleColor(selectedUser.role)}`}>\n                      {getRoleIcon(selectedUser.role)} {selectedUser.role}\n                    </span>\n                    <span className={`px-3 py-1 rounded-full text-sm font-medium backdrop-blur-sm border border-white/20 ${getSubscriptionColor(selectedUser.subscription_type)}`}>\n                      {getSubscriptionIcon(selectedUser.subscription_type)} {selectedUser.subscription_type}\n                    </span>\n                  </div>\n                  \n                  <p className=\"text-white/80 text-lg mb-4 drop-shadow-sm\">{selectedUser.email}</p>\n                  \n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div className=\"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/10\">\n                      <span className=\"text-white/70\">üìÖ</span>\n                      <span className=\"text-white/90\">Joined {new Date(selectedUser.created_at).toLocaleDateString()}</span>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/10\">\n                      <span className=\"text-white/70\">‚è±Ô∏è</span>\n                      <span className=\"text-white/90\">\n                        {selectedUser.total_watch_time && selectedUser.total_watch_time > 0 \n                          ? `${Math.round(selectedUser.total_watch_time / 3600)}h watched`\n                          : 'No watch time recorded'\n                        }\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/10\">\n                      <span className=\"text-white/70\">üé¨</span>\n                      <span className=\"text-white/90\">\n                        {selectedUser.anime_watched && selectedUser.anime_watched > 0 \n                          ? `${selectedUser.anime_watched} anime watched`\n                          : 'No anime watched yet'\n                        }\n                      </span>\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2 bg-white/10 backdrop-blur-sm rounded-lg p-3 border border-white/10\">\n                      <span className=\"text-white/70\">üÜî</span>\n                      <span className=\"font-mono text-xs text-white/90\">{selectedUser.id}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Quick Actions */}\n              <div className=\"border-t border-white/10 pt-6\">\n                <h4 className=\"text-lg font-semibold text-white drop-shadow-lg mb-4\">Quick Actions</h4>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {selectedUser.role !== 'admin' && (\n                    <div className=\"space-y-2\">\n                      <label className=\"block text-sm font-medium text-white/80\">Change Role</label>\n                      <select\n                        value={selectedUser.role}\n                        onChange={(e) => {\n                          handleRoleChange(selectedUser.id, e.target.value as any);\n                          setSelectedUser({...selectedUser, role: e.target.value as any});\n                        }}\n                        disabled={updatingUser === selectedUser.id}\n                        className=\"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white placeholder-white/50 focus:ring-2 focus:ring-white/30 focus:border-white/30 disabled:opacity-50\"\n                      >\n                        <option value=\"user\" className=\"bg-gray-800 text-white\">User</option>\n                        <option value=\"moderator\" className=\"bg-gray-800 text-white\">Moderator</option>\n                        <option value=\"admin\" disabled className=\"bg-gray-800 text-white\">Admin (Database Only)</option>\n                      </select>\n                    </div>\n                  )}\n                  \n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-white/80\">Change Subscription</label>\n                    <select\n                      value={selectedUser.subscription_type}\n                      onChange={(e) => {\n                        handleSubscriptionChange(selectedUser.id, e.target.value as any);\n                        setSelectedUser({...selectedUser, subscription_type: e.target.value as any});\n                      }}\n                      disabled={updatingUser === selectedUser.id}\n                      className=\"w-full px-3 py-2 bg-white/10 backdrop-blur-sm border border-white/20 rounded-lg text-white placeholder-white/50 focus:ring-2 focus:ring-white/30 focus:border-white/30 disabled:opacity-50\"\n                    >\n                      <option value=\"free\" className=\"bg-gray-800 text-white\">Free</option>\n                      <option value=\"premium\" className=\"bg-gray-800 text-white\">Premium</option>\n                      <option value=\"vip\" className=\"bg-gray-800 text-white\">VIP</option>\n                    </select>\n                  </div>\n                  \n                  <div className=\"space-y-2\">\n                    <label className=\"block text-sm font-medium text-white/80\">Actions</label>\n                    <div className=\"flex space-x-2\">\n                      {selectedUser.role !== 'admin' && (\n                        <button\n                          onClick={() => {\n                            handleDeleteUser(selectedUser.id, selectedUser.username);\n                            closeProfileModal();\n                          }}\n                          disabled={updatingUser === selectedUser.id}\n                          className=\"px-4 py-2 bg-red-500/80 backdrop-blur-sm text-white rounded-lg hover:bg-red-600/80 disabled:opacity-50 transition-all duration-200 border border-red-400/30 hover:border-red-400/50\"\n                        >\n                          Delete User\n                        </button>\n                      )}\n                      <button\n                        onClick={closeProfileModal}\n                        className=\"px-4 py-2 bg-white/10 backdrop-blur-sm text-white rounded-lg hover:bg-white/20 transition-all duration-200 border border-white/20 hover:border-white/30\"\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n          </div>\n          </motion.div>\n        </div>\n      )}\n    </div>\n  );\n}"],"names":["AdminUsersPage","users","setUsers","useState","loading","setLoading","error","setError","currentPage","setCurrentPage","totalUsers","setTotalUsers","filterRole","setFilterRole","filterSubscription","setFilterSubscription","searchTerm","setSearchTerm","updatingUser","setUpdatingUser","successMessage","setSuccessMessage","selectedUser","setSelectedUser","showProfileModal","setShowProfileModal","fetchUsers","async","page","result","AdminService","getAllUsers","total","err","Error","message","useEffect","handleRoleChange","userId","newRole","updateUserRole","setTimeout","handleSubscriptionChange","newSubscription","updateUserSubscription","handleDeleteUser","username","window","confirm","deleteUser","closeProfileModal","filteredUsers","filter","user","matchesRole","role","matchesSubscription","subscription_type","matchesSearch","toLowerCase","includes","email","getRoleColor","getSubscriptionColor","subscription","getRoleIcon","getSubscriptionIcon","type","jsxs","className","children","jsx","u","length","total_watch_time","htmlFor","id","placeholder","value","onChange","e","target","map","motion","div","initial","opacity","y","animate","avatar_url","src","alt","charAt","toUpperCase","Date","created_at","toLocaleDateString","Math","round","anime_watched","disabled","onClick","handleViewProfile","title","ceil","scale","exit","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"mappings":"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"}